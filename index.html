<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
<title>Availability â€” by OPULENT HARDWARE</title>
<link href="https://fonts.googleapis.com/css2?family=Saira:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root{
    --green:#00ff4c; --amber:#ffb020; --red:#ff3b30;
    --radius:18px; --gap:clamp(12px,2vw,20px); --pad:clamp(12px,2vw,18px);
    --track-h:72px; --knob-h:56px; --knob-w:96px; --knob-radius:14px;
    --frame-glow:transparent;
  }

  html[data-theme="dark"]{  --bg:#000;    --panel:#0f1115; --panel-2:#141820; --ink:#e8eef5; --muted:#9fb2c9; }
  html[data-theme="light"]{ --bg:#f8fafc; --panel:#e9eef6; --panel-2:#dae3ef; --ink:#1d2330; --muted:#4c5a6b; }

  html[data-accent="green"]{ --frame-glow: color-mix(in oklab, var(--green) 85%, transparent); }
  html[data-accent="amber"]{ --frame-glow: color-mix(in oklab, var(--amber) 85%, transparent); }
  html[data-accent="red"]  { --frame-glow: color-mix(in oklab, var(--red)   85%, transparent); }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; background:var(--bg); color:var(--ink);
    font-family:"Saira", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    display:grid; place-items:center;

    -webkit-user-select:none; user-select:none;
    -webkit-touch-callout:none;
    touch-action: manipulation;     /* taps only */
    pointer-events:auto;
    cursor: default !important;     /* always arrow */
  }

  .frame{
    position:relative;
    width:min(920px,94vw);
    border-radius:calc(var(--radius) + 6px);
    overflow:hidden;
    background:linear-gradient(180deg, var(--panel), var(--panel-2));
    border:1px solid rgba(255,255,255,.06);
    box-shadow: 0 12px 36px rgba(0,0,0,.45);
    transition: box-shadow .24s ease;
  }
  html[data-accent] .frame{
    box-shadow:
      0 12px 36px rgba(0,0,0,.45),
      0 0 80px 28px var(--frame-glow),
      0 0 170px 70px var(--frame-glow),
      0 0 280px 120px var(--frame-glow);
  }

  .content{ padding:clamp(14px,2.2vw,22px); }

  .header{
    display:flex; align-items:center; justify-content:space-between; gap:12px;
    margin-bottom:var(--gap);
  }
  .title{ font-weight:700; letter-spacing:.2px; font-size:clamp(16px,2.4vw,22px); }
  .title .by{ font-weight:600; opacity:.9; font-size:.92em; }
  .title .oh{ font-weight:800; letter-spacing:.5px; }

  .modes{
    display:flex; gap:8px; padding:6px;
    background:rgba(255,255,255,.05);
    border:1px solid rgba(255,255,255,.10);
    border-radius:999px;
  }
  html[data-theme="light"] .modes{ background:rgba(0,0,0,.05); border-color:rgba(0,0,0,.08); }
  .btn{
    appearance:none; border:0; background:transparent; color:var(--ink);
    padding:8px 12px; border-radius:999px; font-weight:600;
    opacity:.8; transition:opacity .15s, background .15s;
    -webkit-tap-highlight-color:transparent;
    touch-action:manipulation;
    pointer-events:auto;
    cursor: default !important;
  }
  .btn.active{ opacity:1; background:rgba(255,255,255,.10); }
  html[data-theme="light"] .btn.active{ background:rgba(0,0,0,.08); }

  .sliders{ display:grid; grid-template-columns:1fr; gap:var(--gap); }

  .card{
    background:rgba(255,255,255,.09);
    border:1px solid rgba(255,255,255,.12);
    padding:var(--pad);
    border-radius:var(--radius);
    backdrop-filter: blur(2px);
  }
  html[data-theme="light"] .card{ background:rgba(0,0,0,.05); border-color:rgba(0,0,0,.10); }

  .row{ display:grid; grid-template-columns:160px 1fr; align-items:center; gap:14px; }
  .label-text{ font-weight:700; letter-spacing:.3px; color:var(--ink); }

  /* ===== Slider visuals ===== */
  .track{
    position:relative; height:var(--track-h);
    background:linear-gradient(180deg, rgba(255,255,255,.14), rgba(0,0,0,.18));
    border:1px solid rgba(255,255,255,.18);
    border-radius:calc(var(--knob-radius) + 10px);
    overflow:hidden;
    cursor: default !important;
  }
  html[data-theme="light"] .track{
    background:linear-gradient(180deg, rgba(255,255,255,.7), rgba(0,0,0,.08));
    border-color:rgba(0,0,0,.15);
  }

  .rail{ position:absolute; inset:22px 12px; border-radius:12px; background:rgba(255,255,255,.08); pointer-events:none; }
  html[data-theme="light"] .rail{ background:rgba(0,0,0,.08); }

  .rail::before{
    content:""; position:absolute; inset:0; border-radius:inherit;
    transform-origin:left center; transform:scaleX(var(--pct,0));
    transition:transform .12s ease;
  }
  .track[data-id="green"] .rail::before{ background:var(--green); }
  .track[data-id="amber"] .rail::before{ background:var(--amber); }
  .track[data-id="red"]   .rail::before{ background:var(--red); }

  .knob{
    position:absolute; top:50%; translate:0 -50%;
    height:var(--knob-h); width:var(--knob-w); border-radius:var(--knob-radius);
    background:linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,.04));
    box-shadow: inset 0 1px 0 rgba(255,255,255,.22), inset 0 -6px 20px rgba(0,0,0,.34), 0 4px 18px rgba(0,0,0,.25);
    border:1px solid rgba(255,255,255,.20);
    left:12px; transition:left .12s ease; pointer-events:none;
  }
  html[data-theme="light"] .knob{
    box-shadow: inset 0 1px 0 rgba(255,255,255,.7), inset 0 -6px 20px rgba(0,0,0,.12), 0 4px 18px rgba(0,0,0,.12);
    border-color:rgba(0,0,0,.12);
  }

  /* ===== BIG endpoint tap zones (no drag) ===== */
  .hit{
    position:absolute; top:0; bottom:0;
    width:45%; /* generous endpoint zones, ~10% center dead zone */
    touch-action:manipulation; pointer-events:auto;
    cursor: default !important;
    background: transparent;
  }
  .hit.off{ left:0; }
  .hit.on{ right:0; }

  /* positions */
  .track{ --left-off: 12px; --left-on: calc(100% - var(--knob-w) - 12px); }
  .track[data-state="on"]  .knob{ left: var(--left-on); }
  .track[data-state="off"] .knob{ left: var(--left-off); }
</style>
</head>
<body>
  <div class="frame" role="application" aria-label="Availability status">
    <div class="content">
      <div class="header">
        <div class="title">
          Availability <span class="by">by <span class="oh">OPULENT HARDWARE</span></span>
        </div>
        <div class="modes" role="group" aria-label="Theme">
          <button class="btn" id="btnLight">Light</button>
          <button class="btn btnDark active" id="btnDark">Dark</button>
        </div>
      </div>

      <div class="sliders">
        <!-- GREEN -->
        <div class="card">
          <div class="row">
            <div class="label-text">Available</div>
            <div class="track" data-id="green" data-state="off" aria-label="Available">
              <div class="rail"></div>
              <div class="knob"></div>
              <div class="hit off"  data-action="off"></div>
              <div class="hit on"   data-action="on"></div>
            </div>
          </div>
        </div>
        <!-- AMBER -->
        <div class="card">
          <div class="row">
            <div class="label-text">Important Only</div>
            <div class="track" data-id="amber" data-state="off" aria-label="Important Only">
              <div class="rail"></div>
              <div class="knob"></div>
              <div class="hit off"  data-action="off"></div>
              <div class="hit on"   data-action="on"></div>
            </div>
          </div>
        </div>
        <!-- RED -->
        <div class="card">
          <div class="row">
            <div class="label-text">Do Not Disturb</div>
            <div class="track" data-id="red" data-state="off" aria-label="Do Not Disturb">
              <div class="rail"></div>
              <div class="knob"></div>
              <div class="hit off"  data-action="off"></div>
              <div class="hit on"   data-action="on"></div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

<script>
  // No storage. Single-pointerdown endpoints.
  const $$ = (q, r=document)=>[...r.querySelectorAll(q)];
  const tracks = $$('.track');

  function setAccent(color){ // purely visual frame glow
    if(color) document.documentElement.setAttribute('data-accent', color);
    else document.documentElement.removeAttribute('data-accent');
  }

  function currentActive(){
    const t = tracks.find(tr => tr.dataset.state === 'on');
    return t ? t.dataset.id : null;
  }

  function setActive(idOrNull){
    tracks.forEach(tr=>{
      const on = idOrNull && tr.dataset.id === idOrNull;
      tr.dataset.state = on ? 'on' : 'off';
      tr.style.setProperty('--pct', on ? 1 : 0);
    });
    setAccent(idOrNull || null);
    // Optional host bridge:
    // try{ window.parent.postMessage({widget:'availability', state:idOrNull||'none'}, '*'); }catch(e){}
  }

  // One pointerdown handler on the document (capture) so we beat host layers.
  document.addEventListener('pointerdown', (e)=>{
    e.preventDefault?.(); // avoid ghost clicks / gestures
    const hit = e.target.closest?.('.hit, .btn');
    if(!hit) return;

    // Theme buttons
    if(hit.classList.contains('btn')){
      const light = hit.id === 'btnLight';
      document.documentElement.setAttribute('data-theme', light ? 'light' : 'dark');
      document.getElementById('btnLight').classList.toggle('active', light);
      document.getElementById('btnDark').classList.toggle('active', !light);
      return;
    }

    // Endpoint taps
    const track = hit.closest('.track');
    const id = track.dataset.id;
    const action = hit.dataset.action; // 'on' or 'off'

    if(action === 'on'){
      setActive(id);            // turn THIS color on
    }else{
      setActive(null);          // left endpoint always turns everything off
    }
  }, {capture:true});

  // Defensive hardening against host CSS
  (function harden(){
    document.documentElement.style.pointerEvents = 'auto';
    document.body.style.pointerEvents = 'auto';
    document.querySelectorAll('.hit,.btn,.track').forEach(el=>{
      el.style.pointerEvents = 'auto';
      el.style.touchAction = 'manipulation';
      el.style.cursor = 'default';
      el.style.webkitTapHighlightColor = 'transparent';
    });
  })();
</script>
</body>
</html>
